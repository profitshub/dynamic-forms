<!DOCTYPE html>
<html>
<head>
  <title>Service Lead Preferences</title>
  <style>
    /* Same styling as before */
  </style>
</head>
<body>
  <h2>Get Free {{Service}} Leads in {{City}}</h2>
  <form action="http://127.0.0.1:5678/webhook/hvac-form" method="POST">
    <input type="hidden" name="serviceType" value="hvac">
    <input type="hidden" name="city" value="austin">

    <!-- Hidden fields for service/city -->
    <input type="hidden" id="serviceType" name="serviceType">
    <input type="hidden" id="city" name="city">

    <div class="form-group">
      <label>Business Name:</label>
      <input type="text" name="businessName" required>
    </div>
    <div class="form-group">
      <label>Contact Email:</label>
      <input type="email" name="email" required>
    </div>
    <!-- Dynamic Questions Based on Service/City -->
    <div class="form-group" id="dynamicQuestions"></div>
    <button type="submit">Get Leads</button>
  </form>

  <script>
    // Extract service/city from URL params
    const urlParams = new URLSearchParams(window.location.search);
    document.getElementById('serviceType').value = urlParams.get('service');
    document.getElementById('city').value = urlParams.get('city');

    // Fetch dynamic questions from a JSON (hosted on GitHub or n8n)
    const service = urlParams.get('service');
    const city = urlParams.get('city');
    fetch(`https://your-n8n-workflow.com/questions?service=${service}&city=${city}`)
      .then(response => response.json())
      .then(data => {
        const questionsHTML = data.questions.map(q => `
          <label>${q.label}</label>
          <select name="${q.name}" required>
            ${q.options.map(opt => `<option value="${opt.value}">${opt.label}</option>`).join('')}
          </select>
        `).join('');
        document.getElementById('dynamicQuestions').innerHTML = questionsHTML;
      });

    // Submit to n8n (same as before)
  </script>
</body>
</html>